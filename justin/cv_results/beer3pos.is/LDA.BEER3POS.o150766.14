bash: module: line 1: syntax error: unexpected end of file
bash: error importing function definition for `module'
14
./process.sh 700 BEER3POS
Data = Beer3 Positive
Cross-validation for K=700
Data shape (1588, 3171)
K=700 Testing fold=0
K=700 Training fold=1
K=700 Training fold=2
K=700 Training fold=3
Run training gibbs (1191, 3171)
CGS LDA initialising
........................................................................................................................
Using Numba for LDA sampling
Preparing words
Preparing Z matrix
DONE
Burn-in 1 
Burn-in 2 
Burn-in 3 
Burn-in 4 
Burn-in 5 
Burn-in 6 
Burn-in 7 
Burn-in 8 
Burn-in 9 
Burn-in 10 
Burn-in 11 
Burn-in 12 
Burn-in 13 
Burn-in 14 
Burn-in 15 
Burn-in 16 
Burn-in 17 
Burn-in 18 
Burn-in 19 
Burn-in 20 
Burn-in 21 
Burn-in 22 
Burn-in 23 
Burn-in 24 
Burn-in 25 
Burn-in 26 
Burn-in 27 
Burn-in 28 
Burn-in 29 
Burn-in 30 
Burn-in 31 
Burn-in 32 
Burn-in 33 
Burn-in 34 
Burn-in 35 
Burn-in 36 
Burn-in 37 
Burn-in 38 
Burn-in 39 
Burn-in 40 
Burn-in 41 
Burn-in 42 
Burn-in 43 
Burn-in 44 
Burn-in 45 
Burn-in 46 
Burn-in 47 
Burn-in 48 
Burn-in 49 
Burn-in 50 
Burn-in 51 
Burn-in 52 
Burn-in 53 
Burn-in 54 
Burn-in 55 
Burn-in 56 
Burn-in 57 
Burn-in 58 
Burn-in 59 
Burn-in 60 
Burn-in 61 
Burn-in 62 
Burn-in 63 
Burn-in 64 
Burn-in 65 
Burn-in 66 
Burn-in 67 
Burn-in 68 
Burn-in 69 
Burn-in 70 
Burn-in 71 
Burn-in 72 
Burn-in 73 
Burn-in 74 
Burn-in 75 
Burn-in 76 
Burn-in 77 
Burn-in 78 
Burn-in 79 
Burn-in 80 
Burn-in 81 
Burn-in 82 
Burn-in 83 
Burn-in 84 
Burn-in 85 
Burn-in 86 
Burn-in 87 
Burn-in 88 
Burn-in 89 
Burn-in 90 
Burn-in 91 
Burn-in 92 
Burn-in 93 
Burn-in 94 
Burn-in 95 
Burn-in 96 
Burn-in 97 
Burn-in 98 
Burn-in 99 
Burn-in 100 
Burn-in 101 
Burn-in 102 
Burn-in 103 
Burn-in 104 
Burn-in 105 
Burn-in 106 
Burn-in 107 
Burn-in 108 
Burn-in 109 
Burn-in 110 
Burn-in 111 
Burn-in 112 
Burn-in 113 
Burn-in 114 
Burn-in 115 
Burn-in 116 
Burn-in 117 
Burn-in 118 
Burn-in 119 
Burn-in 120 
Burn-in 121 
Burn-in 122 
Burn-in 123 
Burn-in 124 
Burn-in 125 
Burn-in 126 
Burn-in 127 
Burn-in 128 
Burn-in 129 
Burn-in 130 
Burn-in 131 
Burn-in 132 
Burn-in 133 
Burn-in 134 
Burn-in 135 
Burn-in 136 
Burn-in 137 
Burn-in 138 
Burn-in 139 
Burn-in 140 
Burn-in 141 
Burn-in 142 
Burn-in 143 
Burn-in 144 
Burn-in 145 
Burn-in 146 
Burn-in 147 
Burn-in 148 
Burn-in 149 
Burn-in 150 
Burn-in 151 
Burn-in 152 
Burn-in 153 
Burn-in 154 
Burn-in 155 
Burn-in 156 
Burn-in 157 
Burn-in 158 
Burn-in 159 
Burn-in 160 
Burn-in 161 
Burn-in 162 
Burn-in 163 
Burn-in 164 
Burn-in 165 
Burn-in 166 
Burn-in 167 
Burn-in 168 
Burn-in 169 
Burn-in 170 
Burn-in 171 
Burn-in 172 
Burn-in 173 
Burn-in 174 
Burn-in 175 
Burn-in 176 
Burn-in 177 
Burn-in 178 
Burn-in 179 
Burn-in 180 
Burn-in 181 
Burn-in 182 
Burn-in 183 
Burn-in 184 
Burn-in 185 
Burn-in 186 
Burn-in 187 
Burn-in 188 
Burn-in 189 
Burn-in 190 
Burn-in 191 
Burn-in 192 
Burn-in 193 
Burn-in 194 
Burn-in 195 
Burn-in 196 
Burn-in 197 
Burn-in 198 
Burn-in 199 
Burn-in 200 
Burn-in 201 
Burn-in 202 
Burn-in 203 
Burn-in 204 
Burn-in 205 
Burn-in 206 
Burn-in 207 
Burn-in 208 
Burn-in 209 
Burn-in 210 
Burn-in 211 
Burn-in 212 
Burn-in 213 
Burn-in 214 
Burn-in 215 
Burn-in 216 
Burn-in 217 
Burn-in 218 
Burn-in 219 
Burn-in 220 
Burn-in 221 
Burn-in 222 
Burn-in 223 
Burn-in 224 
Burn-in 225 
Burn-in 226 
Burn-in 227 
Burn-in 228 
Burn-in 229 
Burn-in 230 
Burn-in 231 
Burn-in 232 
Burn-in 233 
Burn-in 234 
Burn-in 235 
Burn-in 236 
Burn-in 237 
Burn-in 238 
Burn-in 239 
Burn-in 240 
Burn-in 241 
Burn-in 242 
Burn-in 243 
Burn-in 244 
Burn-in 245 
Burn-in 246 
Burn-in 247 
Burn-in 248 
Burn-in 249 
Sample 250 
Sample 251 
Sample 252 
Sample 253 
Sample 254 
Sample 255   Log joint likelihood = -1545304.708 
Sample 256 
Sample 257 
Sample 258 
Sample 259 
Sample 260   Log joint likelihood = -1544657.226 
Sample 261 
Sample 262 
Sample 263 
Sample 264 
Sample 265   Log joint likelihood = -1545412.142 
Sample 266 
Sample 267 
Sample 268 
Sample 269 
Sample 270   Log joint likelihood = -1544142.187 
Sample 271 
Sample 272 
Sample 273 
Sample 274 
Sample 275   Log joint likelihood = -1543834.421 
Sample 276 
Sample 277 
Sample 278 
Sample 279 
Sample 280   Log joint likelihood = -1543716.913 
Sample 281 
Sample 282 
Sample 283 
Sample 284 
Sample 285   Log joint likelihood = -1544303.933 
Sample 286 
Sample 287 
Sample 288 
Sample 289 
Sample 290   Log joint likelihood = -1543796.927 
Sample 291 
Sample 292 
Sample 293 
Sample 294 
Sample 295   Log joint likelihood = -1543162.896 
Sample 296 
Sample 297 
Sample 298 
Sample 299 
Sample 300   Log joint likelihood = -1543558.123 
Sample 301 
Sample 302 
Sample 303 
Sample 304 
Sample 305   Log joint likelihood = -1543452.416 
Sample 306 
Sample 307 
Sample 308 
Sample 309 
Sample 310   Log joint likelihood = -1542398.777 
Sample 311 
Sample 312 
Sample 313 
Sample 314 
Sample 315   Log joint likelihood = -1542743.357 
Sample 316 
Sample 317 
Sample 318 
Sample 319 
Sample 320   Log joint likelihood = -1542544.663 
Sample 321 
Sample 322 
Sample 323 
Sample 324 
Sample 325   Log joint likelihood = -1542224.133 
Sample 326 
Sample 327 
Sample 328 
Sample 329 
Sample 330   Log joint likelihood = -1541925.473 
Sample 331 
Sample 332 
Sample 333 
Sample 334 
Sample 335   Log joint likelihood = -1541781.432 
Sample 336 
Sample 337 
Sample 338 
Sample 339 
Sample 340   Log joint likelihood = -1541614.619 
Sample 341 
Sample 342 
Sample 343 
Sample 344 
Sample 345   Log joint likelihood = -1542215.947 
Sample 346 
Sample 347 
Sample 348 
Sample 349 
Sample 350   Log joint likelihood = -1541379.728 
Sample 351 
Sample 352 
Sample 353 
Sample 354 
Sample 355   Log joint likelihood = -1542028.300 
Sample 356 
Sample 357 
Sample 358 
Sample 359 
Sample 360   Log joint likelihood = -1541819.108 
Sample 361 
Sample 362 
Sample 363 
Sample 364 
Sample 365   Log joint likelihood = -1541404.876 
Sample 366 
Sample 367 
Sample 368 
Sample 369 
Sample 370   Log joint likelihood = -1541510.079 
Sample 371 
Sample 372 
Sample 373 
Sample 374 
Sample 375   Log joint likelihood = -1541536.447 
Sample 376 
Sample 377 
Sample 378 
Sample 379 
Sample 380   Log joint likelihood = -1540692.361 
Sample 381 
Sample 382 
Sample 383 
Sample 384 
Sample 385   Log joint likelihood = -1541041.123 
Sample 386 
Sample 387 
Sample 388 
Sample 389 
Sample 390   Log joint likelihood = -1541285.435 
Sample 391 
Sample 392 
Sample 393 
Sample 394 
Sample 395   Log joint likelihood = -1540823.537 
Sample 396 
Sample 397 
Sample 398 
Sample 399 
Sample 400   Log joint likelihood = -1541315.253 
Sample 401 
Sample 402 
Sample 403 
Sample 404 
Sample 405   Log joint likelihood = -1541557.856 
Sample 406 
Sample 407 
Sample 408 
Sample 409 
Sample 410   Log joint likelihood = -1540914.821 
Sample 411 
Sample 412 
Sample 413 
Sample 414 
Sample 415   Log joint likelihood = -1541029.065 
Sample 416 
Sample 417 
Sample 418 
Sample 419 
Sample 420   Log joint likelihood = -1541403.843 
Sample 421 
Sample 422 
Sample 423 
Sample 424 
Sample 425   Log joint likelihood = -1540386.159 
Sample 426 
Sample 427 
Sample 428 
Sample 429 
Sample 430   Log joint likelihood = -1540743.685 
Sample 431 
Sample 432 
Sample 433 
Sample 434 
Sample 435   Log joint likelihood = -1541216.787 
Sample 436 
Sample 437 
Sample 438 
Sample 439 
Sample 440   Log joint likelihood = -1541051.970 
Sample 441 
Sample 442 
Sample 443 
Sample 444 
Sample 445   Log joint likelihood = -1540970.180 
Sample 446 
Sample 447 
Sample 448 
Sample 449 
Sample 450   Log joint likelihood = -1541790.955 
Sample 451 
Sample 452 
Sample 453 
Sample 454 
Sample 455   Log joint likelihood = -1541071.039 
Sample 456 
Sample 457 
Sample 458 
Sample 459 
Sample 460   Log joint likelihood = -1540859.097 
Sample 461 
Sample 462 
Sample 463 
Sample 464 
Sample 465   Log joint likelihood = -1540355.423 
Sample 466 
Sample 467 
Sample 468 
Sample 469 
Sample 470   Log joint likelihood = -1540370.316 
Sample 471 
Sample 472 
Sample 473 
Sample 474 
Sample 475   Log joint likelihood = -1540967.682 
Sample 476 
Sample 477 
Sample 478 
Sample 479 
Sample 480   Log joint likelihood = -1541310.990 
Sample 481 
Sample 482 
Sample 483 
Sample 484 
Sample 485   Log joint likelihood = -1540944.356 
Sample 486 
Sample 487 
Sample 488 
Sample 489 
Sample 490   Log joint likelihood = -1540488.806 
Sample 491 
Sample 492 
Sample 493 
Sample 494 
Sample 495   Log joint likelihood = -1540809.382 
Sample 496 
Sample 497 
Sample 498 
Sample 499 
Sample 500   Log joint likelihood = -1540898.852 
Using all samples
Traceback (most recent call last):
  File "../../lda_cv.py", line 280, in <module>
    main()
  File "../../lda_cv.py", line 268, in main
    run_beer3()
  File "../../lda_cv.py", line 191, in run_beer3
    is_num_samples, is_iters)         
  File "../../lda_cv.py", line 58, in cross_validate_is
    training_gibbs.run(n_burn, n_samples, n_thin, use_native=True)
  File "/home/joewandy/justin/lda_cgs.py", line 273, in run
    self.topic_word_, self.doc_topic_, self.posterior_alpha = self._update_parameters()   
  File "/home/joewandy/justin/lda_cgs.py", line 216, in _update_parameters
    avg_posterior_alpha = np.zeros_like(alphas[0])
IndexError: list index out of range
